plugins {
    id 'io.micronaut.build.internal.module'
}

dependencies {
    compileOnly(libs.graal)
    compileOnly(libs.micronaut.management)

    api(platform(libs.boms.r2dbc))
    api(libs.micronaut.inject)
    api(libs.micronaut.validation)
    api(libs.r2dbc.spi)

    implementation(libs.reactor.core)

    testImplementation(libs.micronaut.management)

    testImplementation(libs.rxjava2)
    testImplementation(libs.testcontainers.r2dbc)

    // mariadb
    testImplementation(libs.managed.r2dbc.mariadb)
    testImplementation(libs.testcontainers.mariadb)
    testImplementation(libs.mariadb.java.client)

    // mysql
    testImplementation(libs.testcontainers.mysql)
    testImplementation(libs.mysql.connector.java)
    testImplementation(libs.r2dbc.mysql)

    // h2
    testImplementation(libs.r2dbc.h2)

    // sqlserver
    testImplementation(libs.testcontainers.mssqlserver)
    testImplementation(libs.mssql.jdbc)
    testImplementation(libs.r2dbc.mssql)

    // postgres
    testImplementation(libs.r2dbc.postgresql)
    testImplementation(libs.testcontainers.postgresql)
    testImplementation(libs.postgresql)
}
