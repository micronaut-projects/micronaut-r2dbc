plugins {
    id 'io.micronaut.build.internal.module'
}

dependencies {
    compileOnly(mn.graal)
    compileOnly(mn.micronaut.management)

    api(mn.micronaut.inject)
    api(mn.micronaut.validation)
    api(libs.managed.r2dbc.spi)

    implementation(mn.reactor)

    testImplementation(mn.micronaut.management)

    testImplementation(mn.micronaut.rxjava2)
    testImplementation(libs.testcontainers.r2dbc)

    // mariadb
    testImplementation(libs.managed.r2dbc.mariadb)
    testImplementation(libs.testcontainers.mariadb)
    testImplementation(libs.mariadb.java.client)

    // mysql
    testImplementation(libs.testcontainers.mysql)
    testImplementation(libs.mysql.connector.java)
    testImplementation(libs.managed.r2dbc.mysql)

    // h2
    testImplementation(libs.managed.r2dbc.h2)

    // sqlserver
    testImplementation(libs.testcontainers.mssqlserver)
    testImplementation(libs.mssql.jdbc)
    testImplementation(libs.managed.r2dbc.mssql)

    // postgres
    testImplementation(libs.managed.r2dbc.postgresql)
    testImplementation(libs.testcontainers.postgresql)
    testImplementation(libs.postgresql)
}
